{"version":3,"sources":["../src/gtmMultipleDataCollection.js"],"names":["$","window","on","$dataCollection","$dscDocRef","attr","$dscFilterType","$dscSearchType","$dscColltype","$dscDsource","$dscPlace","$dscRdata","$dscRepository","$ContentGroup","$discovery","push","filterFunc","filter","$filteredData","undefined","indexOf","dataLayer"],"mappings":";;AAAA;;;;;AAKAA,EAAEC,MAAF,EAAUC,EAAV,CAAa,MAAb,EAAqB,YAAM;;AAEvB,QAAIC,kBAAkB,EAAtB;AAAA,QACIC,aAAaJ,EAAE,4BAAF,EAAgCK,IAAhC,CAAqC,SAArC,CADjB;AAAA,QAEIC,iBAAiBN,EAAE,gCAAF,EAAoCK,IAApC,CAAyC,SAAzC,CAFrB;AAAA,QAGIE,iBAAiBP,EAAE,gCAAF,EAAoCK,IAApC,CAAyC,SAAzC,CAHrB;AAAA,QAIIG,eAAeR,EAAE,8BAAF,EAAkCK,IAAlC,CAAuC,SAAvC,CAJnB;AAAA,QAKII,cAAcT,EAAE,6BAAF,EAAiCK,IAAjC,CAAsC,SAAtC,CALlB;AAAA,QAMIK,YAAYV,EAAE,2BAAF,EAA+BK,IAA/B,CAAoC,SAApC,CANhB;AAAA,QAOIM,YAAYX,EAAE,2BAAF,EAA+BK,IAA/B,CAAoC,SAApC,CAPhB;AAAA,QAQIO,iBAAiBZ,EAAE,gCAAF,EAAoCK,IAApC,CAAyC,SAAzC,CARrB;AAAA,QASIQ,gBAAgBb,EAAE,sBAAF,EAA0BK,IAA1B,CAA+B,SAA/B,CATpB;AAAA,QAUIS,aAAa,WAVjB;;AAaIX,oBAAgBY,IAAhB,CAAqBX,UAArB,EAAgCG,cAAhC,EAA+CD,cAA/C,EAA8DE,YAA9D,EAA2EC,WAA3E,EAAuFC,SAAvF,EAAiGC,SAAjG,EAA2GC,cAA3G,EAA0HC,aAA1H;;AAEJ,QAAIG,aAAab,gBAAgBc,MAAhB,CAAuB;AAAA,eAAiBC,kBAAkBC,SAAnC;AAAA,KAAvB,CAAjB;;AAEA,QAAIH,WAAWI,OAAX,CAAmBP,aAAnB,KAAqC,CAAzC,EAA2C;AACvCQ,kBAAUN,IAAV,CAAe;AACX,4BAAiBF;AADN,SAAf;AAGA;AACH;AACD,QAAIG,WAAWI,OAAX,CAAmBR,cAAnB,KAAsC,CAA1C,EAA4C;AACxCS,kBAAUN,IAAV,CAAe;AACX,wBAAa;AADF,SAAf;AAGA;AACH;AACD,QAAIC,WAAWI,OAAX,CAAmBb,cAAnB,KAAsC,CAAtC,IAA2CS,WAAWI,OAAX,CAAmBd,cAAnB,KAAsC,CAArF,EAAuF;AACnFe,kBAAUN,IAAV,CAAe;AACX,qBAAUD,UADC;AAEX,6BAAkBA,UAFP;AAGX,2BAAgBR,cAHL;AAIX,0BAAeC;AAJJ,SAAf;AAMH;AAEJ,CAxCD","file":"gtmMultipleDataCollection.js","sourcesContent":["/**\n * ------------  THE NATIONAL ARCHIVES  -----------------\n * JS - getting multiple data groups in Discovery Details page for Google Tag Manager\n * Developer: Punal Chotrani\n **/\n$(window).on('load', () => {\n\n    let $dataCollection = [],\n        $dscDocRef = $('meta[name=DCSext\\\\.docref]').attr('content'),\n        $dscFilterType = $('meta[name=DCSext\\\\.filtertype]').attr('content'),\n        $dscSearchType = $('meta[name=DCSext\\\\.searchtype]').attr('content'),\n        $dscColltype = $('meta[name=DCSext\\\\.colltype]').attr('content'),\n        $dscDsource = $('meta[name=DCSext\\\\.dsource]').attr('content'),\n        $dscPlace = $('meta[name=DCSext\\\\.place]').attr('content'),\n        $dscRdata = $('meta[name=DCSext\\\\.rdata]').attr('content'),\n        $dscRepository = $('meta[name=DCSext\\\\.repository]').attr('content'),\n        $ContentGroup = $('meta[name=WT\\\\.cg_n]').attr('content'),\n        $discovery = 'Discovery';\n\n\n        $dataCollection.push($dscDocRef,$dscSearchType,$dscFilterType,$dscColltype,$dscDsource,$dscPlace,$dscRdata,$dscRepository,$ContentGroup);\n\n    let filterFunc = $dataCollection.filter($filteredData => $filteredData !== undefined);\n\n    if (filterFunc.indexOf($ContentGroup) >= 0){\n        dataLayer.push({\n            'ContentGroup' : $ContentGroup\n        });\n        //console.log('1st Hello');\n    }\n    if (filterFunc.indexOf($dscRepository) >= 0){\n        dataLayer.push({\n            'CollType' : 'A2A'\n        });\n        //console.log('Hellooooo M8');\n    }\n    if (filterFunc.indexOf($dscSearchType) >= 0 || filterFunc.indexOf($dscFilterType) >= 0){\n        dataLayer.push({\n            'event' : $discovery,\n            'eventCategory' : $discovery,\n            'eventAction' : $dscFilterType,\n            'eventLabel' : $dscSearchType\n        });\n    }\n\n});"]}